<div class="container my-5">
    <div class="d-flex justify-content-between my-5 px-2" *ngIf="cartItems.data">
        <h3>Cart Shop</h3>
        <button *ngIf="!isEmpty" class="btn btn-primary" [routerLink]="['/Checkout',cartItems.data._id]"  >check out</button>
    </div>
    <h2  class="text-center mb-5" *ngIf="isEmpty">your cart is empty</h2>
    <div class="d-flex justify-content-between my-5 px-2 " *ngIf="cartItems.data" >
        <p class="fw-bolder align-self-center">total price: <span class="text-black ">{{cartItems.data.totalCartPrice}}</span></p>
        <p class="fw-bolder">total number of items: <span>{{cartItems.numOfCartItems}}</span></p>
    </div>
    <div class="row mb-3" *ngFor="let product of cartItems.data?.products">
        <div class="col-md-2">
            <img [src]="product.product.imageCover" class="w-100" height="200">
        </div>
        <div class="col-md-8">
            <p class="fw-bolder ">{{product.product.title}}</p>
            <p class="fw-bolder ">{{product.price}}EGP</p>
            <button class="text-danger btn p-0 fw-bolder " (click)="deleteItem(product.product.id)">
                <i class="fa-solid fa-trash fa-sm" style="color: #ff0000;"></i>
                remove
            </button>
        </div>
        <div class="col-md-2 mb-1 ">
            <button class="btn rounded-2 border-success" (click)="updateProductQuantity(product.product.id,(product.count)+1)">+</button>
            <span class="mx-2 ">{{product.count}}</span>
            <button class="btn rounded-2 border-success" (click)="updateProductQuantity(product.product.id,(product.count)-1)">-</button>
        </div>
        <hr class="m-1 ">
    </div>
    <button *ngIf="!isEmpty" class="btn rounded-2 border-success  d-block  m-auto " (click)="clearCart()">Clear Cart</button>
</div>
<p-toast></p-toast>